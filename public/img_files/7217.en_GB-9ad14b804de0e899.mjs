"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[7217,33171],{642032:(e,t,a)=>{a.d(t,{Z:()=>s,m:()=>i});var o=a(755884),r=a(983542);let i=["female","male","unknown"],s=e=>{let{interests:t,ages:a,genders:s,country:l}=e;return{AGE_BUCKET:a||[],APPTYPE:o.jz,GENDER:s||i,INTEREST:(t||[]).map(e=>e.topic_id),LOCATION:[...new Set((l||r.UF).split("+"))]}}},360307:(e,t,a)=>{a.d(t,{Z:()=>i});let o=function(e,t){this.uid=e,this.item=t,this.next=null,this.prev=null},r=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};r.prototype.set=function(e,t){let a=this._uidToData[e];a||(a=new o(e,t),this._uidToData[e]=a,this._numItems+=1),this._moveToFront(a),this._numItems>this._maxNumItems&&this._evict()},r.prototype.get=function(e){let t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null},r.prototype.remove=function(e){let t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)},r.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},r.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1};let i=r},570686:(e,t,a)=>{a.d(t,{Z:()=>i});var o=a(635258),r=a(503237);function i(e,t){let a="";if(e&&(a=e,t)){let i=(0,r.Z)(e,!0),s="/advertiser/",{hostname:l}=i;(null===l||l===o.KUo)&&(e.startsWith(o.auO)&&(e=e.replace(o.auO,"")),a=e.startsWith(s)?e:s+t+e)}return a}},89934:(e,t,a)=>{a.d(t,{Z:()=>i});var o=a(667294),r=a(961414);function i({allowSearchOnMount:e,children:t,onTypeaheadSuggestionsChange:a,resourceName:i,resourceOptions:s,value:l}){let n=(0,r.Z)({allowSearchOnMount:e,resourceName:i,resourceOptions:s,value:l});return(0,o.useEffect)(()=>{n?.length&&a(n)},[n]),t||null}},961414:(e,t,a)=>{a.d(t,{Z:()=>s});var o=a(667294),r=a(360307),i=a(465848);function s({allowSearchOnMount:e=!1,resourceName:t,resourceOptions:a={},value:s}){let l=(0,o.useRef)(!1),n=(0,o.useRef)({}),[d,c]=(0,o.useState)([]),_=function({resourceName:e,resourceOptions:t}){let a=(0,i.vL)(),s=(0,o.useRef)();return s.current||(s.current=function({resourceCreator:e,resourceName:t,resourceOptions:a}){let o=e(t,{...a,count:"count"in a?a.count:5}),i=new r.Z,s=()=>{o.abort()},l=async(e,t)=>{if(o.isCalling()){let a=o.options?.term,r=o.options?.pin_scope;if(e===a&&t===r)return;s()}let{bookmarks:a,...r}=o.options||{};o.options={...r,term:e,pin_scope:t};let{data:l}=(await o.callGet({showError:!1})).resource_response,n=l?.items,d=l?.hint||{};return i.set(`${t}-${e}`,{hint:d,items:n}),{term:e,items:n,hint:d}};return async function(e,t){let a=i.get(`${t}-${e}`);if(a){let{items:t}=a;if(t&&t.length){s();let{hint:o}=a;return{hint:o,items:t,term:e}}}return e.length>=0?l(e,t):{hint:{},items:[],term:e}}}({resourceCreator:a,resourceName:e,resourceOptions:t})),s.current}({resourceName:t,resourceOptions:a}),h=a.pin_scope||"pins",u=`${h}-${s}`;return(0,o.useEffect)(()=>{(async()=>{if(null!=s&&""!==s&&(e||l.current)){if(u in n.current)c(n.current[u]);else try{let e=await _(s,h);if(e){let{items:t}=e;n.current[u]=t,c(t)}}catch(e){if("Resource call aborted"===e)return;throw e}}l.current||(l.current=!0)})()},[s,h,u]),d}},626964:(e,t,a)=>{a.d(t,{Z:()=>i});var o=a(410150),r=a(855746);function i(){return function({deviceType:e,site:t}){switch(t){case"analytics":return 4;case"business":return 6;case"planninghub-internal":return 12;case"sterling":return 3;case"trends":return 7;case"trends-internal":return 8;case"commerce-app":case"commerce-app-latest":case"pintergration":return 10;case"creators":case"create":return 11;case"newsroom":return 13;case"about":return 14;default:return"phone"===e||"tablet"===e?1:0}}({deviceType:(0,o.ZP)(),site:(0,r.uo)()})}},360410:(e,t,a)=>{a.d(t,{Z:()=>r});let o=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,r=e=>o.test(e)},838857:(e,t,a)=>{a.d(t,{Z:()=>i});var o=a(570686),r=a(635258);function i({advertiser:e,isAdsSite:t,isAnalyticsSite:a,isTrendsSite:i,baseUrl:s,adsUrl:l,isQuickPromote:n,isShoppingCatalogs:d}){if(t&&!e&&!n)return"/";let c=s;return(t||a||i)&&!d?(l||(l=s),e?(c=(0,o.Z)(l,e.id),t||(c=r.auO+c)):c=t?l:r.auO+c):d?c=r.auO+(0,o.Z)(s,e?e.id:""):l||(c=r.auO+s),c}},733423:(e,t,a)=>{a.d(t,{Z:()=>c,l:()=>d});var o=a(667294),r=a(730212),i=a(626964),s=a(62370),l=a(501912),n=a(700506);let d=(0,o.createContext)(void 0),c=function(){let{advertiser:e}=(0,r.B)(),t=function(){let{isSterlingSite:e}=(0,n.O9)((0,i.Z)());return(0,o.useContext)(d)??e}(),a=(0,l.Z)(),c=(s.K()?.profiles||[]).find(t=>t?.id===e?.owner_user_id);return t&&c||a}},333171:(e,t,a)=>{a.d(t,{Z:()=>s});var o=a(383399),r=a(501912),i=a(801621);let s=()=>{let e=(0,o.Z)(),t=(0,r.Z)();return(0,i.lJ)(e,t)}},700506:(e,t,a)=>{a.d(t,{uB:()=>b,re:()=>m,Xc:()=>C,NH:()=>p,Mz:()=>g,Mj:()=>B,LZ:()=>S,Lu:()=>P,es:()=>j,xV:()=>w,d5:()=>A,xQ:()=>f,O9:()=>x,bq:()=>D,HH:()=>T,Ti:()=>I,cG:()=>v,Hw:()=>y,HC:()=>z,$n:()=>O});var o=a(548466),r=a(642032),i=a(983542);let s=({values:e,pin:t,productGroup:a,country:o})=>{let{name:s,destination_url:l,budget:n,duration:d,inclusive_end_date:c,is_ongoing:_,advertiser_id:h,ages:u,interests:b,genders:m,ad_type:g,selected_ocpm_tag:p,isAutoTargeting:C}=e,x=Math.round(n*i.Az),v=(0,r.Z)({ages:u,interests:b,genders:m,country:o}),f={};g===i.Hl.WEB_CONVERSION&&(f.objective_type=i.Hl.WEB_CONVERSION,f.optimization_goal_metadata={conversion_tag_v3_goal_metadata:{conversion_tag_id:p.conversionTagId,conversion_event:p.conversionEvent}});let A={budget_in_micro_currency:x,campaign_name:s&&s.length<64?s:`${(s||"").substr(0,62)}…`,destination_url:t?l:null,duration:parseInt(d,10),auto_targeting_enabled:C,is_ongoing:_,start_now:!0,targeting_spec:v,advertiser_id:h,ads_client_type:"quick_promote",pin_id:t?t.id:null,product_group_id:a?a.id:null,...f,flexible_daily_budget_enabled:!1};return!_&&c&&c.trim().length>0&&(A.inclusive_end_date=c),A};var l=a(729263),n=a(194093),d=a(400416),c=a(635258),_=a(868808),h=a(838857),u=a(415787);let b=472,m=364,g={VIEW:"view",SUBMIT:"submit",SUBMIT_SUCCESS:"submit.success",SUBMIT_ERROR:"submit.error"},p={CLICK:"click",DISMISS:"dismiss",RENDER:"render"},C={BIZ_HUB_AD_CREDITS:"biz_hub_ad_credits",BIZ_HUB_EMPTY_STATE_ADS_WIDGET:"biz_hub_empty_state_ads_widget",BIZ_HUB_CREATE_AD:"biz_hub_create_ad",CLOSEUP_PARTNER_MODULE:"closeup_partner_module",NAVBAR_PROMOTE_PIN:"navbar_promote_pin",PIN_CREATE_SUCCESS:"pin_create_success",PIN_CREATE_SUCCESS_PINNER:"pin_create_success_pinner",PIN_REP:"pin_rep",PINANALYTICS:"pinanalytics",TRENDS_HOME_PAGE:"trends_home_page",TRENDS_DETAILS_PAGE:"trends_details_page",BIZ_HUB_TOP_CAROUSEL_SECTION:"biz_hub_top_carousel_section"},x=e=>({isAnalyticsSite:4===e,isSterlingSite:3===e,isWwwSite:0===e,isTrendsSite:7===e,isPlanningHub:12===e}),v=e=>{let{isAnalyticsSite:t=!1,isSterlingSite:a=!1,isWwwSite:o=!1,loggingType:r}=e,i="";t?i=".analytics":o?i=".www":a&&(i=".ads"),(0,u.nP)(`sterling.quick_promote.page${i}.${r}`,{sampleRate:1})},f=e=>e?i.vX.indexOf(e):-1,A=e=>{if(null!=e&&!(e<0)&&!(e>i.vX.length-1))return i.vX[e]},E=e=>e===i.Gl.BUSINESS_FORM?{element:11213,component:13375}:e===i.Gl.BILLING_FORM?{element:11214,component:13376}:{component:205,element:1223},P=(e,t)=>{let{component:a,element:o}=E(A(e));t({event_type:101,component:a,element:o,aux_data:{page:"GestaltQuickPromote"}})},S=(e,t)=>{let a=A(e),{component:o}=E(a);a===i.Gl.PIN_SELECTION_MODAL?t({event_type:6358,component:13288,aux_data:{page:"GestaltQuickPromote"}}):a===i.Gl.SUCCESS_MODAL&&t({event_type:6358,component:o,aux_data:{page:"GestaltQuickPromote"}})},j=(e,t)=>{let a=[...new Set(e?.split("+"))];return t&&a.filter(e=>e in t)},y=(e,t)=>{if(!t||!e)return"";let a=`https://${c.KUo}`,o=`?campaign_id=${t.campaign_id}&objective_type=CLICKTHROUGH&is_quick_promote=true`;return`${a}/advertiser/${e}/billing/${o}`},B=(e,t)=>{if(!e)return"";let{ad_group_id:a=""}=e,o=(0,l.default)("adgroup",t,{id:a,showAllEntities:!0});return(0,h.Z)({advertiser:null,isAdsSite:!1,isAnalyticsSite:!1,isTrendsSite:!1,baseUrl:o,adsUrl:null,isQuickPromote:!0})},I=e=>({hasValidBusinessInfo:e.hasBusinessAddress||e.hasBusinessInfo,hasValidBillingInfo:e.hasValidBillingProfile||e.hasBillingInfo}),z=async e=>{let{pin:t,productGroup:a,country:o,onSaveSuccess:r,onSaveFailed:i,quickPromoteFormValues:l,advertiserId:c}=e;if(!t&&a)return;let _=`/ads/v4/advertisers/${c}/pins/${t?.id||""}/quick_promote/`;try{let{resource_response:e}=await (0,d.Z)({url:_,method:"POST",data:s({values:l,pin:t,productGroup:a,country:o})});e.data&&r(e.data)}catch(a){let e=(0,n.Z)(a,"httpStatus"),t=(0,n.Z)(a,"message_detail");i(t?{area:401===e?"pin":"modal",message:t}:{area:"modal"})}},w=e=>{let{hasValidBillingProfile:t,hasBusinessAddress:a,hasBillingInfo:o,hasBusinessInfo:r,serverErrorArea:s,stepIndex:l,isQuickPromotePage:n=!1}=e,{hasValidBusinessInfo:d,hasValidBillingInfo:c}=I({hasValidBillingProfile:t,hasBusinessAddress:a,hasBillingInfo:o,hasBusinessInfo:r}),_=[void 0,null].includes(l)?0:l+1;return A(l)!==i.hf||(s?_="modal"===s?f(i.Gl.ERROR_MODAL):l:d&&c?_=f(i.Gl.SUCCESS_MODAL):d?_=f(i.Gl.BILLING_FORM):n||(_=f(i.Gl.BUSINESS_FORM))),_>i.vX.length-1?void 0:_},D=e=>{let t=i.Pq.WIDE;return e<870?t=i.Pq.NARROW:e>=870&&e<=1275&&(t=i.Pq.MEDIUM),t},T=(e,t,a)=>{let{crossSite:r}=(0,_.mB)(e.search);if(o.Z()?.experimentsClient.checkExperiment("advertiser_growth_close_modal_window_without_history").anyEnabled&&t.length<=1){window.close();return}window?[...Array(a.find(e=>e&&e.location&&e.location.pathname.includes("pin-builder"))?3:1)].forEach(()=>r?window.history.back():t.goBack()):t.goBack()};function O(e,t){let a=[...e],o=a.indexOf(t);return o>-1?a.splice(o,1):a.push(t),a}},830370:(e,t,a)=>{a.d(t,{Z:()=>p});var o=a(667294),r=a(545007),i=a(883119),s=a(640498),l=a(144326),n=a(383399),d=a(733423),c=a(801621),_=a(924452),h=a(332322),u=a(207666),b=a(785893);function m(e,t,a){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var o=a.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class g extends o.Component{constructor(...e){super(...e),m(this,"handleSubmit",e=>{let{advertiserId:t,boardCreateSource:a,createBoard:o,onBoardCreate:r,viewer:i,orbacActingAs:s,shouldShowAddCollaborators:l,handleInviteSelectedCollaborators:n}=this.props,d=(0,c.lJ)(i,s),{name:_,description:h,privacy:u,collab_board_email:b,collaborator_invites_enabled:m}=e;return o({boardCreateOptions:{name:_,description:h,privacy:u,collab_board_email:b,collaborator_invites_enabled:m,aux_data:{source:a},...t?{advertiser_id:t}:{},...d?{orbac_subject_id:d}:Object.freeze({})}}).then(e=>{l&&n(e.id),r(e)})}),m(this,"emptyBoardData",{collab_board_email:!0,collaborator_invites_enabled:!1,id:"",is_collaborative:!1,name:this.props.suggestedBoardName||"",description:"",category:"other",owner:{username:(0,c.Ms)(this.props.viewer,this.props.orbacActingAs)},pin_count:0})}render(){let{advertiserId:e,isAdAccountOwner:t,onClose:a,privacy:o,useModalWithNoLayer:r,showSecretBoardCreateToggle:l,shouldShowAddCollaborators:n,setSelectedContacts:d,selectedContacts:h,orbacActingAs:u,viewer:m}=this.props,g=(0,c.lJ)(m,u);return(0,b.jsx)(_.Z,{board:{...this.emptyBoardData,privacy:t?o:s.ZP.BoardPrivacy.PROTECTED},currentUserIsOwner:!0,isAdAccount:!!e,isAdAccountOwner:t,isDeletable:!1,isEditable:!0,isNameAndSecretView:!0,isProfilePublisher:!!g,onClose:a,onSubmit:this.handleSubmit,selectedContacts:h,setSelectedContacts:d,shouldShowAddCollaborators:n,showSecretBoardCreateToggle:l,submitText:this.props.i18n.bt("Create", "Create", " - ", undefined, true),title:(0,b.jsx)(i.xu,{paddingY:8,width:"100%",children:(0,b.jsx)(i.X6,{align:"center",size:"500",children:this.props.i18n.bt("Create board", "Create board", "BoardCreate.BoardCreate", undefined, true)})}),useModalWithNoLayer:r})}}function p(e){let t=(0,u.Z)(),a=(0,l.ZP)(),i=(0,n.Z)(),s=(0,r.v9)(({advertiser:e})=>e?e.id:void 0),c=(0,d.Z)(),_=(0,r.v9)(({advertiser:e})=>!e||i.isAuth&&e.owner_user_id===i.id),m=(0,h.zC)(),p=(0,h.DK)(),C=e.isBoardCreateFromProfile,[x,v]=(0,o.useState)([]);return(0,b.jsx)(g,{...e,advertiserId:s,createBoard:t,dispatch:(0,r.I0)(),handleInviteSelectedCollaborators:e=>{let t=x.filter(e=>"email"===e.type||"email_share_suggestion"===e.type),a=x.filter(e=>"user"===e.type||"user_share_suggestion"===e.type);a.length>0&&p(e,a.map(e=>e.id)),t.length>0&&m(e,t.map(e=>e.id))},i18n:a,isAdAccountOwner:_,orbacActingAs:c,selectedContacts:x,setSelectedContacts:v,shouldShowAddCollaborators:C,viewer:i})}m(g,"defaultProps",{privacy:s.ZP.BoardPrivacy.PUBLIC})},451237:(e,t,a)=>{a.d(t,{Z:()=>o});let o={BOARD_PICKER:"board_picker",ORGANIZE_PINS:"organize_pins",PROFILE:"profile",PIN_CLUSTER:"create_pin_cluster_page"}},924452:(e,t,a)=>{a.d(t,{Z:()=>Y});var o=a(667294),r=a(883119),i=a(640498),s=a(194093),l=a(758339),n=a(107941),d=a(144326),c=a(240760),_=a(730212),h=a(352006),u=a(207630),b=a(901450),m=a(410150),g=a(26456),p=a(140002),C=a(559028),x=a(961754),v=a(89934),f=a(360410),A=a(383399),E=a(785893);function P({selectedContacts:e=[],setSelectedContacts:t}){let a=(0,d.ZP)(),i=(0,A.Z)(),s=i.isAuth?i?.avatar_color_index:void 0,{data:l}=(0,x.Z)({name:"ShareSuggestionsResource",options:{field_set_key:"default",hide_group_conversations:!0},noCache:!0}),[n,c]=(0,o.useState)([]);(0,o.useEffect)(()=>{l&&c(l.map(e=>"email_share_suggestion"===e.type?{...e,id:e.email||""}:e))},[l]);let[_,h]=(0,o.useState)(""),u=e.map(e=>e.id),b=[...e,(0,f.Z)(_)&&!u.includes(_)?{id:_,type:"email"}:null,...n.filter(e=>!u.includes(e.id))].filter(Boolean),m=a=>{u.includes(a.id)?t?.((e||[]).filter(e=>e.id!==a.id)):t?.([...e,a])};return(0,E.jsxs)(r.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[(0,E.jsx)(r.xu,{paddingY:2,children:(0,E.jsx)(r.xv,{size:"100",children:a.bt("Add collaborators", "Add collaborators", "text indicates that this section is for adding collaborators to a board", undefined, true)})}),(0,E.jsx)(r.xu,{marginBottom:4,marginTop:2,width:"100%",children:(0,E.jsx)(r.xu,{children:(0,E.jsx)(v.Z,{onTypeaheadSuggestionsChange:e=>{c(e)},resourceName:"ShareSuggestionsTypeaheadResource",value:_,children:(0,E.jsx)(r.Um,{accessibilityLabel:a.bt("Search for collaborators by name or email address", "Search for collaborators by name or email", "users can search for other people and add them as collaborators to a board", undefined, true),id:"CollaboratorInviteSearchField",onChange:({value:e})=>{h(e)},placeholder:a.bt("Search by name or email address", "Search by name or email", "text in search field to indicate that users could search for other users here", undefined, true),size:"lg",value:_})})})}),(0,E.jsx)(r.xu,{overflow:"scrollY",children:b.map(e=>(0,E.jsxs)(r.xu,{display:"flex",paddingY:2,children:[(0,E.jsxs)(r.kC,{flex:"grow",children:["email"===e.type||"email_share_suggestion"===e.type?(0,E.jsx)(r.xu,{alignItems:"center",color:"secondary",display:"flex",flex:"none",height:48,justifyContent:"center",marginEnd:3,rounding:"circle",width:48,children:(0,E.jsx)(r.JO,{accessibilityLabel:a.bt("Email icon", "Email icon", "Email icon on board create modal", undefined, true),color:"default",icon:"envelope",size:24})}):(0,E.jsx)(r.xu,{display:"flex",flex:"none",height:48,marginEnd:3,width:48,children:(0,E.jsx)(C.qE,{color:s,name:e.full_name||"",size:"fit",src:e.image_medium_url||e.image_large_url})}),"email"===e.type||"email_share_suggestion"===e.type?(0,E.jsx)(r.kC,{alignItems:"center",children:(0,E.jsx)(r.xu,{children:(0,E.jsx)(r.xv,{size:"300",children:e.id})})}):(0,E.jsxs)(r.kC,{direction:"column",justifyContent:"center",children:[(0,E.jsx)(r.xu,{marginBottom:1,tabIndex:0,children:(0,E.jsx)(r.xv,{lineClamp:1,size:"300",children:e.full_name})}),(0,E.jsx)(r.xu,{tabIndex:0,children:(0,E.jsx)(r.xv,{size:"200",children:`@${e.username||""}`})})]})]}),(0,E.jsx)(r.kC,{flex:"none",children:(0,E.jsx)(r.zx,{onClick:()=>m(e),selected:u.includes(e.id),size:"lg",text:u.includes(e.id)?a.bt("Added", "Added", "Text that lets the user know they have added the contact", undefined, true):a.bt("Add", "Add", "Text that lets the user know they can add that contact", undefined, true)})})]},e.id))})]})}var S=a(437141),j=a(162779);let y=({label:e,labelId:t})=>t?(0,E.jsx)(r.__,{htmlFor:t,children:(0,E.jsx)(r.xv,{size:"100",children:e})}):(0,E.jsx)(r.xv,{size:"100",children:e});function B(e){let{children:t,label:a,labelId:i}=e;return(0,E.jsxs)(o.Fragment,{children:[(0,E.jsx)(r.xu,{marginBottom:2,children:(0,E.jsx)(y,{label:a,labelId:i})}),t]})}function I({coverPin:e,handleShowBoardCoverEditModal:t}){let a=(0,d.ZP)(),[i,s]=(0,o.useState)(!1),{isRTL:l}=(0,_.B)();return(0,E.jsx)(B,{label:a.bt("Board cover", "Board cover", "BoardForm.BoardFormCoverButton", undefined, true),children:(0,E.jsx)(r.xu,{position:"relative",width:138,children:(0,E.jsx)(r.iP,{onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onTap:t,rounding:4,children:e?.custom_cover?(0,E.jsxs)(o.Fragment,{children:[(0,E.jsx)(r.zd,{height:138,rounding:4,width:138,children:(0,E.jsx)(j.Z,{alt:e.image_url,color:"gray",customCover:e.custom_cover,height:138,imgPos:function(e){let{crop:t,size:a}=e||{};if(Array.isArray(t)&&Array.isArray(a))return{x:t[0]||0,y:t[1]||0,width:a[0]||0,height:a[1]||0}}(e),imgUrl:e.image_url||"",renderAsImage:!0,width:138})}),(0,E.jsx)(r.xu,{bottom:!0,left:l,padding:2,position:"absolute",right:!l,children:(0,E.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:i?"white":"rgba(255, 255, 255, 0.8)"}},display:"flex",height:44,justifyContent:"center",rounding:"circle",width:44,children:(0,E.jsx)(r.JO,{accessibilityLabel:a.bt("Edit board cover", "Edit board cover", "BoardForm.BoardFormBoardCoverButton", undefined, true),color:"default",icon:"edit",size:16})})})]}):(0,E.jsx)(r.xu,{alignItems:"center",color:i?"darkWash":"secondary",display:"flex",height:138,justifyContent:"center",rounding:4,width:138,children:(0,E.jsx)(r.JO,{accessibilityLabel:a.bt("Add cover photo", "Add cover photo", "BoardForm.BoardFormCoverButton", undefined, true),color:"default",icon:"add",size:24})})})})})}function z({children:e,label:t,labelId:a,subtext:i}){return(0,E.jsx)(o.Fragment,{children:(0,E.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"start",paddingY:1,children:[e,(0,E.jsx)(r.xu,{marginStart:2,children:(0,E.jsxs)(r.__,{htmlFor:a,children:[(0,E.jsx)(r.xv,{size:"300",weight:"bold",children:t}),i]})})]})})}function w({hasCollabBoardEmail:e,isCollaborative:t,onCheckboxChange:a}){let o=(0,d.ZP)();return t&&(0,E.jsx)(z,{label:o.bt("Email notifications", "Email notifications", "BoardForm.BoardFormCollaboratorsEmailCheckbox", undefined, true),labelId:"emailNotificationsCheckbox",subtext:(0,E.jsx)(r.xv,{color:"subtle",size:"300",children:o.bt("Get an email when someone saves Pins to this board", "Get an email when someone saves Pins to this board", "BoardForm.BoardFormCollaboratorsEmailCheckbox", undefined, true)}),children:(0,E.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,E.jsx)(r.xu,{marginEnd:1,children:(0,E.jsx)(r.XZ,{checked:e,id:"emailNotificationsCheckbox",name:"email",onChange:a})})})})}var D=a(946970),T=a(21065);function O({board:e,onCollaboratorInviteClick:t}){let a=(0,d.ZP)(),o=(0,T.Z)({boardId:e.id,ownerName:e.owner.full_name??"",ownerUsername:e.owner.username,ownerImgSrc:e.owner.image_medium_url||e.owner.image_small_url||""}),i=o.slice(0,3).map(e=>e.name),s="";switch(o.length){case 3:s=(0,c.Wc)(`${a.bt("{{ first }}, {{ second }} and {{ last }}", "{{ first }}, {{ second }}, and {{ last }}", "CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars", undefined, true)}`,{first:`${i[0]}`,second:`${i[1]}`,last:`${i[2]}`});break;case 2:s=(0,c.Wc)(`${a.bt("{{ first }} and {{ second }}", "{{ first }} and {{ second }}", "CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars", undefined, true)}`,{first:`${i[0]}`,second:`${i[1]}`});break;default:s=i.join(", ")}let l=o.length>3?(0,c.Wc)(a.nbt(["Collaborators: {{ userNames }} and {{ leftCount }} more.", "Collaborators: {{ userNames }} and {{ leftCount }} more."], o.length - 3, "CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree", true),{userNames:s,leftCount:`${o.length-3}`}):(0,c.Wc)(`${a.bt("Collaborators: {{ userNames }}.", "Collaborators: {{ userNames }}.", "CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree", undefined, true)}`,{userNames:s});return(0,E.jsxs)(r.kC,{alignItems:"center",justifyContent:"between",children:[(0,E.jsx)(r.HE,{accessibilityLabel:l,collaborators:o.map(({name:e,src:t,color:a})=>({src:t?.endsWith("/default_75.png")?void 0:t,name:e,color:a})),size:"md"}),(0,E.jsx)(r.hU,{accessibilityLabel:a.bt("Invite collaborators", "Invite collaborators", "BoardEdit.BoardCollaboratorsAndInviteSection", undefined, true),bgColor:"lightGray",icon:"add",iconColor:"darkGray",onClick:t,size:"lg"})]})}function R({board:e,onCollaboratorInviteClick:t}){let a=(0,d.ZP)(),o=(0,E.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[(0,E.jsx)(r.xv,{inline:!0,size:"100",children:a.bt("Collaborators", "Collaborators", " - ", undefined, true)}),(0,E.jsx)(D.Z,{}),(0,E.jsx)(r.xv,{inline:!0,size:"100",weight:"bold",children:(0,E.jsx)(r.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/article/group-boards?source=board_create",target:"blank",underline:"hover",children:a.bt("Learn more", "Learn more", " - ", undefined, true)})})]});return(0,E.jsx)(B,{label:o,labelId:"collaborators",children:(0,E.jsx)(O,{board:e,onCollaboratorInviteClick:t})})}function k({collaboratorInvitesEnabled:e,isCollaborative:t,onCheckboxChange:a}){let o=(0,d.ZP)();return t&&(0,E.jsx)(z,{label:o.bt("Let collaborators add people", "Let collaborators add people", "BoardForm.BoardFormCollaboratorsInviteToggle", undefined, true),labelId:"collaboratorInvitesEnabledCheckbox",children:(0,E.jsx)(r.XZ,{checked:e,id:"collaboratorInvitesEnabledCheckbox",name:"collaboratorInvitesEnabled",onChange:a})})}function N({description:e,descriptionValidatorErrors:t,onChange:a}){let o=(0,d.ZP)(),i="boardEditDescription";return(0,E.jsx)(B,{label:o.bt("Description", "Description", "BoardForm.BoardFormDescription", undefined, true),labelId:i,children:(0,E.jsx)(r.Kx,{errorMessage:t.join(", "),id:i,name:"description",onChange:a,placeholder:o.bt("What's your board about?", "What's your board about?", " - ", undefined, true),value:e})})}let F=({children:e})=>(0,E.jsx)(r.xu,{paddingX:8,role:"list",children:o.Children.map(e,(t,a)=>t&&(0,E.jsx)(r.xu,{marginBottom:a===o.Children.count(e)-1?1:8,role:"listitem",children:t},a))});function Z({name:e,nameValidatorErrors:t,onChange:a,disabled:o}){let i=(0,d.ZP)();return(0,E.jsx)(B,{label:i.bt("Name", "Name", "BoardForm.BoardFormTitleInput", undefined, true),labelId:"boardEditName",children:(0,E.jsx)(r.nv,{disabled:o,errorMessage:t.join(", "),id:"boardEditName",name:"boardName",onChange:a,placeholder:i.bt("E.g. \"Places to go\" or \"Recipes to make\"", "Like \"Places to Go\" or \"Recipes to Make\"", " - ", undefined, true),size:"lg",value:e})})}let L=({board:e,collabBoardEmail:t,collaboratorInvitesEnabled:a,coverPin:o,currentUserIsOwner:i,description:s,descriptionValidatorErrors:l,handleBoardLeave:n,isCollaborative:c,showCoverEdit:_,name:h,nameValidatorErrors:u,handleShowBoardCoverEditModal:b,handleChangeName:m,handleChangeDescription:g,handleShowCollaboratorsModal:p,handleChangeCollabBoardEmail:C,handleChangeCollaboratorInvitesEnabled:x})=>{let v=(0,d.ZP)();return(0,E.jsxs)(F,{children:[_&&(0,E.jsx)(I,{coverPin:o,handleShowBoardCoverEditModal:b}),(0,E.jsx)(Z,{disabled:!0,name:h,nameValidatorErrors:u,onChange:m}),(0,E.jsx)(N,{description:s,descriptionValidatorErrors:l,onChange:g}),i&&!!n&&(0,E.jsx)(R,{board:e,onCollaboratorInviteClick:p}),c&&(0,E.jsx)(r.xu,{marginBottom:-7,children:(0,E.jsx)(r.xv,{size:"100",children:v.bt("Settings", "Settings", "BoardForm.BoardForm", undefined, true)})}),(0,E.jsx)(w,{hasCollabBoardEmail:t,isCollaborative:c,onCheckboxChange:C}),(0,E.jsx)(k,{collaboratorInvitesEnabled:a,isCollaborative:c,onCheckboxChange:x})]})};function M({isProtectedToggler:e,isToggleDisable:t,onChange:a,onCheckboxChange:s,privacy:l}){let n=(0,d.ZP)();if(!0===e)return(0,E.jsx)(z,{label:n.bt("Protected board (not listed on user's profile)", "Protected board (not listed on user's profile)", "BoardForm.BoardFormSecretToggle", undefined, true),labelId:"protected",children:(0,E.jsx)(r.xu,{paddingY:2,children:(0,E.jsx)(r.rs,{disabled:t,id:"protected",onChange:a,switched:l===i.ZP.BoardPrivacy.PROTECTED})})});if(l!==i.ZP.BoardPrivacy.PROTECTED){let e=n.bt("Keep this board secret", "Keep this board secret", "BoardForm.BoardFormSecretToggle", undefined, true),a=(0,E.jsx)(o.Fragment,{children:(0,E.jsxs)(r.xv,{color:"subtle",size:"300",children:[n.bt("So only you and collaborators can see it.", "So only you and collaborators can see it.", "BoardForm.BoardFormSecretToggle", undefined, true)," ",(0,E.jsx)(r.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/article/change-board-privacy?source=secret_create",target:"blank",underline:"hover",children:n.bt("Learn more", "Learn more", "BoardForm.BoardFormSecretToggle", undefined, true)})]})});return(0,E.jsx)(z,{label:e,labelId:"secret",subtext:a,children:(0,E.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,E.jsx)(r.XZ,{checked:l===i.ZP.BoardPrivacy.SECRET,disabled:t,id:"secret",name:"secret",onChange:s})})})}return null}function U({allowHomefeedRecommendations:e,onCheckboxChange:t}){let a=(0,d.ZP)();return(0,E.jsx)(z,{label:a.bt("Personalisation", "Personalization", "BoardForm.BoardFormRecommendationToggle", undefined, true),labelId:"recommendation",subtext:(0,E.jsx)(r.xv,{color:"subtle",size:"300",children:a.bt("Show Pins inspired by this board in your home feed.", "Show Pins inspired by this board in your home feed.", "BoardForm.BoardFormRecommendationToggle", undefined, true)}),children:(0,E.jsx)(r.XZ,{checked:e,id:"recommendation",name:"recommendation",onChange:t})})}function G(e,t,a){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var o=a.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let H=(0,o.lazy)(()=>Promise.all([a.e(97270),a.e(12359)]).then(a.bind(a,542187))),$=(0,o.lazy)(()=>Promise.all([a.e(36075),a.e(36060),a.e(96988),a.e(5552)]).then(a.bind(a,896988))),W=(e,t)=>(0,g.Gy)({max:e,maxErrorString:(0,u.Z)(t.bt("Please enter no more than {{ maxLength }} characters.", "Please enter no more than {{ maxLength }} characters.", "Validation error when a string is too long", undefined, true),{maxLength:e})}),V=e=>[W(i.ZP.MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION,e)],X=e=>[(0,g.aH)({message:e.bt("Don't forget to name your board!", "Don't forget to name your board!", " - ", undefined, true)}),W(i.ZP.MAX_CHARS_FOR_BOARD_TITLE,e)],K=({condition:e,children:t})=>e?(0,E.jsx)(r.xu,{position:"absolute",zIndex:n.b7,children:t}):t;class q extends o.Component{constructor(e){super(e),G(this,"handleChangeName",({value:e})=>{let t=(0,g.FU)(X(this.props.i18n),e);this.setState({name:e,nameValidatorErrors:t})}),G(this,"handleChangeDescription",({value:e})=>{let t=(0,g.FU)(V(this.props.i18n),e);this.setState({description:e,descriptionValidatorErrors:t})}),G(this,"handleChangePrivacyToggle",({value:e})=>{let t="public";e&&(t=this.props.isAdAccount?"protected":"secret"),this.state.privacy!==t&&this.setState({privacy:t})}),G(this,"handleEnableSecret",()=>{this.setState({privacy:"secret",showSecretConfirmation:!1})}),G(this,"handleHideSecretConfirmation",()=>{this.setState({showSecretConfirmation:!1})}),G(this,"handleChangeRecommendationToggle",({value:e})=>{this.setState({allowHomefeedRecommendations:e})}),G(this,"handleChangeCollabBoardEmail",({value:e})=>{this.setState({collab_board_email:e})}),G(this,"handleChangeCollaboratorInvitesEnabled",({value:e})=>{this.setState({collaboratorInvitesEnabled:e})}),G(this,"handleCheckboxChange",e=>({event:t,checked:a})=>e({event:t,value:a})),G(this,"handleSubmit",e=>{let{onSubmit:t}=this.props,{collab_board_email:a,collaboratorInvitesEnabled:o,description:r,name:i,privacy:l,allowHomefeedRecommendations:n}=this.state;if(e.preventDefault&&e.preventDefault(),this.submitDisabled())return;let d=i.trim(),c=r.trim();this.setState({submitting:!0,submitError:""}),t({name:d,collab_board_email:a,collaborator_invites_enabled:o,description:c,privacy:l,allow_homefeed_recommendations:n}).then(()=>{this.setState({submitting:!1})}).catch(e=>{let t=this.props.i18n.bt("Something went wrong.", "Uh oh! Something went wrong.", " - ", undefined, true),a=(0,s.Z)(e,"message");if(a){let o=(0,s.Z)(e,"message_detail");t=o?`${a} ${o}`:a}else"string"==typeof e&&(t=e);this.setState({submitting:!1,submitError:t})})}),G(this,"handleShowBoardCoverEditModal",()=>{this.setState({showBoardCoverEdit:!0})}),G(this,"handleHideBoardCoverEditModal",()=>{this.setState({showBoardCoverEdit:!1})}),G(this,"handleShowCollaboratorsModal",()=>{this.setState({showCollaboratorsModal:!0})}),G(this,"handleHideCollaboratorsModal",()=>{this.setState({showCollaboratorsModal:!1})}),G(this,"handleSaveBoardCoverEditModal",e=>{this.handleHideBoardCoverEditModal();let{onCropChange:t}=this.props;t&&t(e)});let{board:{collab_board_email:t,collaborator_invites_enabled:a,description:o,name:r,pin_count:i,privacy:l,allow_homefeed_recommendations:n}}=e;this.state={collab_board_email:t,description:o,name:r,pin_count:i,privacy:l,allowHomefeedRecommendations:n,collaboratorInvitesEnabled:a,nameValidatorErrors:[],descriptionValidatorErrors:[],showBoardCoverEdit:!1,showCollaboratorsModal:!1,showSecretConfirmation:!1,submitting:!1,previousName:r,previousDescription:o,previousPrivacy:l}}static getDerivedStateFromProps(e,t){let a={};return e.board.name&&e.board.name!==t.previousName&&(a.previousName=e.board.name,a.nameValidatorErrors=(0,g.FU)(X(e.i18n),e.board.name)),e.board.description&&e.board.description!==t.previousDescription&&(a.previousDescription=e.board.description,a.descriptionValidatorErrors=(0,g.FU)(V(e.i18n),e.board.description)),e.board.privacy&&e.board.privacy!==t.previousPrivacy&&(a.previousPrivacy=e.board.privacy),a}getFormFooter(){let{submitText:e}=this.props,{submitError:t}=this.state;return(0,E.jsxs)(o.Fragment,{children:[(0,E.jsx)(r.kC,{alignItems:"center",justifyContent:"end",wrap:!0,children:(0,E.jsx)(r.xu,{children:(0,E.jsx)(r.kC,{alignItems:"stretch",justifyContent:"start",children:(0,E.jsx)(r.xu,{height:48,children:(0,E.jsx)(r.zx,{color:"red",dataTestId:"board-form-submit-button",disabled:this.submitDisabled(),onClick:this.handleSubmit,size:"lg",text:e,type:"submit"})})})})}),t&&(0,E.jsx)(r.xu,{"aria-live":"polite",paddingX:1,tabIndex:0,children:(0,E.jsx)(r.xv,{color:"error",children:t})})]})}submitDisabled(){let{descriptionValidatorErrors:e,name:t,nameValidatorErrors:a,submitting:o}=this.state;return!t||a.length>0||e.length>0||o}render(){let{board:e,board:{archived_by_me_at:t,cover_pin:a,id:i,is_collaborative:s},coverImageHeight:n,coverImageWidth:d,currentUserIsOwner:_,handleBoardLeave:u,isAdAccount:b,isAdAccountOwner:m,isDeletable:g,isDesktop:C,isEditable:x,isNameAndSecretView:v,onClose:f,onDeleteButtonClick:A,requestContext:j,title:y,useModalWithNoLayer:B,showSecretBoardCreateToggle:z,shouldShowAddCollaborators:D,setSelectedContacts:T,selectedContacts:O,isProfilePublisher:G}=this.props,{allowHomefeedRecommendations:W,collab_board_email:V,collaboratorInvitesEnabled:X,description:q,descriptionValidatorErrors:Y,name:Q,nameValidatorErrors:J,pin_count:ee,privacy:et,showBoardCoverEdit:ea,showCollaboratorsModal:eo,showSecretConfirmation:er}=this.state,ei=x&&ee>0,es=e.is_ads_only,el=(0,E.jsxs)(F,{children:[ei&&(0,E.jsx)(I,{coverPin:a,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal}),(0,E.jsx)(Z,{disabled:es,name:Q,nameValidatorErrors:J,onChange:this.handleChangeName}),(0,E.jsx)(N,{description:q,descriptionValidatorErrors:Y,onChange:this.handleChangeDescription}),_&&!!u&&(0,E.jsx)(R,{board:e,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,E.jsx)(r.xu,{marginBottom:-7,children:(0,E.jsx)(r.xv,{size:"100",children:this.props.i18n.bt("Settings", "Settings", "BoardForm.BoardForm", undefined, true)})}),(0,E.jsx)(M,{isProtectedToggler:!!b,isToggleDisable:!!b&&!m&&!G,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:et}),!t&&(0,E.jsx)(U,{allowHomefeedRecommendations:W,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,E.jsx)(w,{hasCollabBoardEmail:V,isCollaborative:s,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),(0,E.jsx)(k,{collaboratorInvitesEnabled:X,isCollaborative:s,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled)}),g&&(0,E.jsxs)(r.xu,{marginTop:-6,paddingY:4,children:[(0,E.jsx)(r.xv,{size:"100",children:this.props.i18n.bt("Action", "Action", "BoardForm.BoardForm.Action", undefined, true)}),(0,E.jsxs)(r.iP,{onTap:A,children:[(0,E.jsx)(r.xu,{"data-test-id":"deleteBoardButton",marginBottom:1,marginTop:2,children:(0,E.jsx)(r.X6,{size:"400",children:this.props.i18n.bt("Delete board", "Delete board", "BoardForm.Delete", undefined, true)})}),(0,E.jsx)(r.xv,{color:"subtle",size:"300",children:(0,c.nk)(this.props.i18n.bt("You have {{ MAX_AGE_RECENTLY_DELETED_BOARD }} days to restore a deleted board. After that, it will be deleted permanently.", "You have {{ MAX_AGE_RECENTLY_DELETED_BOARD }} days to restore a deleted Board. After that, it will be permanently deleted.", "boardForm.delete.helperText", undefined, true),{MAX_AGE_RECENTLY_DELETED_BOARD:p.Xq})})]})]})]});_?v&&(el=(0,E.jsxs)(F,{children:[(0,E.jsx)(Z,{disabled:es,name:Q,nameValidatorErrors:J,onChange:this.handleChangeName}),!z&&(0,E.jsx)(M,{isProtectedToggler:!!b,isToggleDisable:!!b&&!m&&!G,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:et}),D&&(0,E.jsx)(P,{selectedContacts:O,setSelectedContacts:T})]})):el=(0,E.jsxs)(F,{children:[!!u&&(0,E.jsx)(R,{board:e,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,E.jsx)(w,{hasCollabBoardEmail:V,isCollaborative:s,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),!t&&es&&(0,E.jsx)(U,{allowHomefeedRecommendations:W,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,E.jsx)(r.xv,{color:"subtle",size:"300",children:(0,c.nk)(this.props.i18n.bt("Only the board’s owner ({{ boardOwner }}) can manage the rest of its features", "Only the board’s owner ({{ boardOwner }}) can manage the rest of its features", "BoardForm.CollaboratorPermissionsCopy", undefined, true),{boardOwner:(0,E.jsx)(r.xv,{color:"subtle",inline:!0,size:"300",weight:"bold",children:e.owner.full_name})})})]});let en=B?r.u_:l.ZP,ed=this.props.i18n.bt("Change board cover", "Change board cover", "BoardForm.BoardCoverEdit.heading", undefined, true),ec=(0,E.jsxs)(r.xu,{paddingY:8,position:"relative",children:[(0,E.jsx)(r.X6,{align:"center",size:"500",children:ed}),(0,E.jsx)(r.xu,{left:j.isRTL,paddingX:6,paddingY:8,position:"absolute",right:!j.isRTL,top:!0,children:(0,E.jsx)(r.hU,{accessibilityLabel:this.props.i18n.bt("Cancel change board cover", "Cancel change board cover", "BoardForm.BoardCoverEdit.cancel", undefined, true),icon:"cancel",iconColor:"darkGray",onClick:this.handleHideBoardCoverEditModal,size:"md"})})]});return(0,E.jsxs)(o.Fragment,{children:[(0,E.jsx)(K,{condition:!!B,children:!ea&&!eo&&(0,E.jsx)(en,{accessibilityModalLabel:this.props.i18n.bt("Board form", "Board form", "BoardForm.BoardForm", undefined, true),footer:this.getFormFooter(),heading:y,onDismiss:f,size:"sm",children:(0,E.jsx)(r.xu,{"data-test-id":"board-form-container",marginEnd:"auto",marginStart:"auto",rounding:2,children:(0,E.jsxs)("form",{method:"post",onSubmit:this.handleSubmit,children:[!es&&el,es&&(0,E.jsx)(L,{board:e,collabBoardEmail:V,collaboratorInvitesEnabled:X,coverPin:a,currentUserIsOwner:_,description:q,descriptionValidatorErrors:Y,handleBoardLeave:u,handleChangeCollabBoardEmail:this.handleCheckboxChange(this.handleChangeCollabBoardEmail),handleChangeCollaboratorInvitesEnabled:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled),handleChangeDescription:this.handleChangeDescription,handleChangeName:this.handleChangeName,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal,handleShowCollaboratorsModal:this.handleShowCollaboratorsModal,isCollaborative:s,name:Q,nameValidatorErrors:J,showCoverEdit:ei})]})})})}),ea&&C&&(0,E.jsx)(h.Z,{children:(0,E.jsx)(H,{boardId:i,boardName:Q,coverPinId:a?.pin_id,frameHeight:n,frameWidth:d,heading:ec,onCancel:this.handleHideBoardCoverEditModal,onSave:this.handleSaveBoardCoverEditModal})}),er&&(0,E.jsx)(S.Z,{confirmButtonLabel:this.props.i18n.bt("Make secret", "Make secret", "Setting the boards visibility to secret", undefined, true),heading:this.props.i18n.bt("Are you sure?", "Are you sure?", "Warning label asking users to be sure of their action", undefined, true),message:this.props.i18n.bt("If you make this board secret, some active ads will stop running", "If you make this board secret, some active ads will stop running", "Explicitly warning users of the board visibility action they are doing", undefined, true),onCancel:this.handleHideSecretConfirmation,onConfirm:this.handleEnableSecret}),eo&&(0,E.jsx)(h.Z,{children:(0,E.jsx)($,{board:e,fromBoardEditModal:!0,onDismiss:this.handleHideCollaboratorsModal})})]})}}function Y(e){let t=(0,d.ZP)(),a=(0,m.ZP)();return(0,E.jsx)(q,{...e,i18n:t,isDesktop:"desktop"===a,requestContext:(0,_.B)(),toastManagerContext:(0,b.F9)()})}G(q,"defaultProps",{isNameAndSecretView:!1})},437141:(e,t,a)=>{a.d(t,{Z:()=>l});var o=a(883119),r=a(758339),i=a(144326),s=a(785893);function l({cancelButtonLabel:e,confirmButtonLabel:t,heading:a,message:l,onCancel:n,onConfirm:d}){let c=(0,i.ZP)(),_=a||c.bt("Are you sure?", "Are you sure?", " - ", undefined, true),h=e||c.bt("Cancel", "Cancel", " - ", undefined, true);return(0,s.jsx)(r.ZP,{accessibilityModalLabel:_,footer:(0,s.jsxs)(o.xu,{marginEnd:-1,marginStart:-1,children:[(0,s.jsx)(o.xu,{"data-test-id":"cancel-button",padding:1,children:(0,s.jsx)(o.zx,{fullWidth:!0,onClick:n,size:"lg",text:h})}),(0,s.jsx)(o.xu,{"data-test-id":"confirm-button",padding:1,children:(0,s.jsx)(o.zx,{color:"red",fullWidth:!0,onClick:d,size:"lg",text:t})})]}),heading:_,onDismiss:n,role:"alertdialog",children:(0,s.jsx)(o.xu,{padding:4,children:(0,s.jsx)(o.xv,{children:l})})})}},983542:(e,t,a)=>{a.d(t,{Az:()=>p,DI:()=>f,Gl:()=>P,Hl:()=>w,NA:()=>o,NG:()=>d,OC:()=>I,Pq:()=>y,QM:()=>b,Sk:()=>E,UF:()=>x,Uo:()=>B,WF:()=>l,Xm:()=>c,Zf:()=>i,_N:()=>u,ac:()=>s,dt:()=>g,e_:()=>h,gf:()=>C,hf:()=>S,i_:()=>n,jY:()=>v,ni:()=>A,qg:()=>_,rX:()=>r,vX:()=>j,yG:()=>m,yq:()=>z});let o="10",r=1,i=365,s=64,l=8,n=9,d=11,c=15,_=16,h=17,u=18,b=19,m=20,g=22,p=1e6,C=1e6,x="US";function v(e){let t="USD",a="$";switch(e){case"AT":case"BE":case"DE":case"ES":case"FI":case"FR":case"IE":case"IT":case"NL":case"PT":t="EUR",a="€";break;case"AU":t="AUD",a="$";break;case"CA":t="CAD",a="$";break;case"CH":t="CHF",a="CHF";break;case"DK":t="DKK",a="kr";break;case"GB":t="GBP",a="£";break;case"NO":t="NOK",a="kr";break;case"NZ":t="NZD",a="$";break;case"SE":t="SEK",a="kr"}return[t,a]}let f={AU:{budget:1,duration:"10"},CA:{budget:1,duration:"10"},CZ:{budget:80,duration:"10"},FR:{budget:1,duration:"10"},GB:{budget:1,duration:"10"},IE:{budget:1,duration:"10"},NZ:{budget:1,duration:"10"},US:{budget:3,duration:"10"},AT:{budget:1,duration:"10"},DE:{budget:1,duration:"10"},IT:{budget:1,duration:"10"},ES:{budget:1,duration:"10"},NL:{budget:1,duration:"10"},PT:{budget:1,duration:"10"},BE:{budget:1,duration:"10"},CH:{budget:1,duration:"10"},SE:{budget:10,duration:"30"},NO:{budget:10,duration:"30"},DK:{budget:10,duration:"30"},FI:{budget:1,duration:"10"}},A={AU:{budget:10,duration:"10"},CA:{budget:9,duration:"10"},CZ:{budget:150,duration:"10"},FR:{budget:7,duration:"10"},GB:{budget:5,duration:"10"},IE:{budget:7,duration:"10"},NZ:{budget:10,duration:"10"},US:{budget:7,duration:"10"},AT:{budget:7,duration:"10"},DE:{budget:7,duration:"10"},IT:{budget:7,duration:"10"},ES:{budget:7,duration:"10"},NL:{budget:7,duration:"10"},PT:{budget:7,duration:"10"},BE:{budget:7,duration:"10"},CH:{budget:7,duration:"10"},SE:{budget:70,duration:"30"},NO:{budget:70,duration:"30"},DK:{budget:50,duration:"30"},FI:{budget:7,duration:"10"}},E={AT:1,AU:1,BE:1,CA:1,CH:1,CZ:11,DE:1,ES:1,DK:1,FI:1,FR:1,GB:1,IE:1,IT:1,NO:1,NZ:1,NL:1,PT:1,SE:1,US:1},P={PIN_SELECTION_MODAL:"PIN_SELECTION_MODAL",BUSINESS_FORM:"QUICK_PROMOTE_BUSINESS_FORM",BILLING_FORM:"QUICK_PROMOTE_BILLING_FORM",SUCCESS_MODAL:"SUCCESS_MODAL",ERROR_MODAL:"ERROR_MODAL",TAG_MODAL:"TAG_MODAL",GDPR_MODAL:"GDPR_MODAL"},S="QUICK_PROMOTE_PAGE",j=[P.GDPR_MODAL,P.PIN_SELECTION_MODAL,S,P.BUSINESS_FORM,P.BILLING_FORM,P.SUCCESS_MODAL,P.ERROR_MODAL],y={NARROW:"NARROW",MEDIUM:"MEDIUM",WIDE:"WIDE"},B=e=>e>=1&&e<=2,I="qp-fac-education-id",z="qp-fac-modal-education-id",w={CONSIDERATION:"CONSIDERATION",WEB_CONVERSION:"WEB_CONVERSION",CATALOG_SALES:"CATALOG_SALES"}},21065:(e,t,a)=>{a.d(t,{I:()=>l,Z:()=>s});var o=a(961754),r=a(333171);let i=({boardId:e,ownerUsername:t,ownerName:a,ownerImgSrc:i})=>{let s=(0,r.Z)(),{data:l,isLoaded:n}=(0,o.Z)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0,...s?{orbac_subject_id:s}:{}}}),d=[{name:a,src:i,href:`/${t}/`,isDim:!1}];return n&&l&&l.length>0&&l.forEach(e=>{d.push({name:e&&e.invited_user?e.invited_user.full_name:"",color:e&&e.invited_user?e.invited_user.avatar_color_index:void 0,src:e&&e.invited_user?e.invited_user.image_medium_url:"",href:e&&e.invited_user?`/${e.invited_user.username}/`:"",isDim:e&&["new","contact_request_not_approved"].includes(e.status)})}),d},s=i;function l({children:e,...t}){return e(i(t))}},207666:(e,t,a)=>{a.d(t,{Z:()=>c});var o=a(545007),r=a(782677),i=a(252071),s=a(835764),l=a(786974),n=a(468808),d=a(338623);function c(){let e=(0,o.I0)(),t=(0,o.v9)(e=>e.resources);return async function({boardCreateOptions:a,deprecatedSchemaForNormalization:o}){let c=await i.Z.create("BoardResource",a).callCreate(),_=c.resource_response.data,h=o?(0,r.Fv)(_,o):void 0;e((0,d.XM)("BoardResource",a,c,h)),e((0,s.fO)({event_type:20})),_.owner?.id&&e((0,n.b)("UserResource",{options:{user_id:_.owner.id,field_set_key:"save_behavior"}}));let u=t.BoardsResource||{},b=t.BoardsFeedResource||{};return Object.keys(u).forEach(t=>{(0,l.k)(t).username===_.owner?.username&&e((0,d.jB)("BoardsResource",t))}),Object.keys(b).forEach(t=>{(0,l.k)(t).username===_.owner?.username&&e((0,d.jB)("BoardsFeedResource",t))}),_}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/7217.en_GB-9ad14b804de0e899.mjs.map